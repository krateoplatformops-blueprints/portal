kind: DataGrid
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: blueprints-page-datagrid
  namespace: {{ .Release.Namespace }}
  annotations:
    "krateo.io/verbose": "true"
spec:
  apiRef:
    name: blueprints-panels
    namespace: {{ .Release.Namespace }}
  widgetData:
    allowedResources:
      - panels
    prefix: blueprints-datagrid-filters
    asGrid: true
    grid:
      column: 2
      gutter: 16
    items: []
  widgetDataTemplate:
    - forPath: items
      expression: >
        ${ [ .blueprintspanels[] | { resourceRefId: .metadata.name } ] }
  resourcesRefs: 
    items: []
  resourcesRefsTemplate:
    - iterator: ${ .blueprintspanels }
      template:
        id: ${ .metadata.name }
        apiVersion: ${ .apiVersion }
        resource: panels
        namespace: ${ .metadata.namespace }
        name: ${ .metadata.name }
        verb: GET